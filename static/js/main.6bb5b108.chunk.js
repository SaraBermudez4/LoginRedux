(this["webpackJsonpjournal-app"]=this["webpackJsonpjournal-app"]||[]).push([[0],{161:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(28),o=a.n(c),l=a(21),i=a.n(l),u=a(30),s=a(17),m=a(16),p=a(5),d=a(31),E=a(14),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],c=a[1],o=function(){c(e)},l=function(e){var t=e.target;c(Object(E.a)(Object(E.a)({},r),{},Object(d.a)({},t.name,t.value)))};return[r,l,o]},b=a(10),f="[Auth] Login",g="[Auth] Logout",_="[ui] Set Error",v="[ui] Remove Error",N="[Ui] Start Loading",j="[Ui] Finish Loading",y=a(24);a(163),a(70);y.a.initializeApp({apiKey:"AIzaSyClWP14w7MrTQD42aHUTIY25vaRNoMpVN8",authDomain:"redux-d9447.firebaseapp.com",projectId:"redux-d9447",storageBucket:"redux-d9447.appspot.com",messagingSenderId:"676828266080",appId:"1:676828266080:web:0e40c7e583767ea7410d05",measurementId:"G-EPLJPNDHYC"});y.a.firestore();var w=new y.a.auth.GoogleAuthProvider,O=function(e){return{type:_,payLoad:e}},x=function(){return{type:v}},k=function(){return{type:N}},C=function(e,t){return function(a){return y.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;a(k),a(L(t.uid,t.displayName))})).catch((function(e){console.log(e),a({type:j})}))}},L=function(e,t){return{type:f,payLoad:{uid:e,displayName:t}}},A=function(){return{type:g}},S=a(32),P=a.n(S),I=a(33),D=a.n(I),U=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.uid})),a=Object(b.c)((function(e){return e.ui})).msjError,n=h({email:"",password:""}),c=Object(s.a)(n,3),o=c[0],l=c[1],i=c[2],u=o.email,p=o.password;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"auth__title"},"Login"),r.a.createElement("form",{onSubmit:function(t){var n;t.preventDefault(),n=a,P.a.fire({icon:"error",title:"Oops...",text:n}),(D.a.isEmail(u)?p<5?(e(O("La contrase\xf1a es incorecta")),0):(e(x()),1):(e(O("Email requerido")),0))&&(i(),e(C(u,p)))}},r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",value:u,onChange:l}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",password:p,onChange:l}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:t},"Login"),r.a.createElement("div",{className:"auth__social-networks"},r.a.createElement("p",null,"Login with social networks"),r.a.createElement("div",{className:"google-btn"},r.a.createElement("div",{className:"google-icon-wrapper"},r.a.createElement("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google button"})),r.a.createElement("p",{className:"btn-text",onClick:function(){e((function(e){y.a.auth().signInWithPopup(w).then((function(t){var a=t.user;e(L(a.uid,a.displayName)),console.log(a)})).catch((function(e){console.log(e)}))}))}},r.a.createElement("b",null,"Sign in with google")))),r.a.createElement(m.b,{to:"/auth/register",className:"link"},"Create new account")))},R=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.ui})).msjError,a=h({name:"",email:"",password:"",password2:""}),n=Object(s.a)(a,3),c=n[0],o=n[1],l=n[2],p=c.name,d=c.email,E=c.password,f=c.password2;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"auth__title"},"Register"),r.a.createElement("form",{onSubmit:function(a){var n;a.preventDefault(),n=t,P.a.fire({icon:"error",title:"Oops...",text:n}),(0===p.trim().length?(e(O("Nombre requerido")),0):D.a.isEmail(d)?E!==f||E<5?(e(O("La contrase\xf1a es incorecta")),0):(e(x()),1):(e(O("Email requerido")),0))&&(l(),e(function(e,t,a){return function(n){y.a.auth().createUserWithEmailAndPassword(e,t).then(function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.user,e.next=3,r.updateProfile({displayName:a});case 3:n(L(r.uid,r.displayName));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert("Hay un error mi so"+e)}))}}(d,E,p)))}},r.a.createElement("input",{type:"text",placeholder:"Name",name:"name",className:"auth__input",autoComplete:"off",value:p,onChange:o}),r.a.createElement("input",{type:"email",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",value:d,onChange:o}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",value:E,onChange:o}),r.a.createElement("input",{type:"password",placeholder:"Confirm password",name:"password2",className:"auth__input",value:f,onChange:o}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block mb-5"},"Register"),r.a.createElement(m.b,{to:"/auth/login",className:"link"},"Already registered?")))},F=function(){return r.a.createElement("div",{className:"auth__main"},r.a.createElement("div",{className:"auth__box-container"},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/auth/login",component:U}),r.a.createElement(p.b,{exact:!0,path:"/auth/register",component:R}),r.a.createElement(p.a,{to:"/auth/login"}))))},W=function(){return r.a.createElement("div",{className:"journal__entry pointer"},r.a.createElement("div",{className:"journal__entry-picture",style:{backgroundSize:"cover",backgroundImage:"url(https://earthsky.org/upl/2018/12/comet-wirtanen-Jack-Fusco-dec-2018-Anza-Borrego-desert-CA-e1544613895713.jpg)"}}),r.a.createElement("div",{className:"journal__entry-body"},r.a.createElement("p",{className:"journal__entry-title"},"Un nuevo d\xeda"),r.a.createElement("p",{className:"journal__entry-content"},"Reprehenderit id in duis consectetur deserunt veniam fugiat.")),r.a.createElement("div",{className:"journal__entry-date-box"},r.a.createElement("span",null,"Monday"),r.a.createElement("h4",null,"28")))},z=function(){return r.a.createElement("div",{className:"journal__entries"},[1,2,3,4,5].map((function(e){return r.a.createElement(W,{key:e})})))},G=function(){var e=Object(b.b)();return r.a.createElement("aside",{className:"journal__sidebar"},r.a.createElement("div",{className:"journal__sidebar-navbar"},r.a.createElement("h3",{className:"mt-5"},r.a.createElement("i",{className:"far fa-moon"}),r.a.createElement("span",null," Fernando")),r.a.createElement("button",{className:"btn",onClick:function(){e((function(e){y.a.auth().signOut(),e(A(!0))}))}},"Logout")),r.a.createElement("div",{className:"journal__new-entry"},r.a.createElement("i",{className:"far fa-calendar-plus fa-5x"}),r.a.createElement("p",{className:"mt-5"},"New entry")),r.a.createElement(z,null))},J=function(){return r.a.createElement("div",{className:"notes__appbar"},r.a.createElement("span",null,"28 de agosto 2020"),r.a.createElement("div",null,r.a.createElement("button",{className:"btn"},"Picture"),r.a.createElement("button",{className:"btn"},"Save")))},M=function(){return r.a.createElement("div",{className:"notes__main-content"},r.a.createElement(J,null),r.a.createElement("div",{className:"notes__content"},r.a.createElement("input",{type:"text",placeholder:"Some awesome title",className:"notes__title-input",autoComplete:"off"}),r.a.createElement("textarea",{placeholder:"What happened today",className:"notes__textarea"}),r.a.createElement("div",{className:"notes__image"},r.a.createElement("img",{src:"https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__340.jpg",alt:"imagen"}))))},T=function(){return r.a.createElement("div",{className:"journal__main-content"},r.a.createElement(G,null),r.a.createElement("main",null,r.a.createElement(M,null)))},q=a(34),B=function(e){var t=e.isAuthenticated,a=e.component,n=Object(q.a)(e,["isAuthenticated","component"]);return r.a.createElement(p.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(p.a,{to:"/"}):r.a.createElement(a,e)}}))},H=function(e){var t=e.isAuthenticated,a=e.component,n=Object(q.a)(e,["isAuthenticated","component"]);return r.a.createElement(p.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(a,e):r.a.createElement(p.a,{to:"/auth/login"})}}))},V=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(s.a)(o,2),d=l[0],E=l[1],h=Object(b.b)();return Object(n.useEffect)((function(){y.a.auth().onAuthStateChanged(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t?void 0:t.uid)?(h(L(t.uid,t.displayName)),E(!0)):(console.log("Usuario no registrado"),E(!1)),c(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[h,c]),a?r.a.createElement("h1",null,"Cargando info"):r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(p.d,null,r.a.createElement(B,{path:"/auth",component:F,isAuthenticated:d}),r.a.createElement(H,{exact:!0,path:"/",component:T,isAuthenticated:d}),r.a.createElement(p.a,{to:"/auth/login"}))))},X=a(25),Y=a(60),K={loading:!1,msjError:null},Q=Object(X.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{uid:t.payLoad.uid,name:t.payLoad.displayName};case g:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(E.a)(Object(E.a)({},e),{},{msjError:t.payLoad});case v:return Object(E.a)(Object(E.a)({},e),{},{msjError:null});case N:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case j:return Object(E.a)(Object(E.a)({},e),{},{loading:!1});case g:return{};default:return e}}}),Z="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.c,$=Object(X.d)(Q,Z(Object(X.a)(Y.a))),ee=function(){return r.a.createElement(b.a,{store:$},r.a.createElement(V,null))};a(161);o.a.render(r.a.createElement(ee,null),document.getElementById("root"))}},[[162,1,2]]]);
//# sourceMappingURL=main.6bb5b108.chunk.js.map